# Actionable Task Checklist — UI/UX Database Bridge (2025-11-07)

## Phase 1 · Critical Database-UI Gaps
- [ ] Implement SLA countdown widget on admin + client ticket detail pages using `SlaCountdownCard` (`support_ticket`, `sla_policy`).
- [ ] Surface `account_lockouts` + `rate_limit_violations` in admin security console with unlock + acknowledge actions.
- [ ] Add CRUD UI for `charge`, `payment_method`, and `refund` tables on the billing workspace (bulk retry, refund issuance, payment-method auditing).
- [ ] Expose `subscription_history` timeline on client subscription page so customers can self-serve past changes.
- [ ] Render `plan_pricing` view in marketing pricing toggle (monthly/yearly, setup fees, feature badges) instead of hand-coded constants.
- [ ] Connect `site_analytics_events` stream to per-site detail pages (timeline + event filters) with pagination.
- [ ] Display `data_retention_policy` + `backup_catalog` info before destructive actions (profile deletion, ticket purge).

## Phase 2 · UX Improvements
- [ ] Add filtering/saved views to `support_ticket` tables (priority, site, SLA risk) using Supabase query params + caches.
- [ ] Enhance contact lead review with inline status edits + audit log preview referencing `contact_submission.metadata`.
- [ ] Provide multi-tenant search by invoking `search_profiles`, `search_sites`, and `search_tickets` RPCs (hook into omnibox).
- [ ] Expand notification composer with preview + targeting rules tied to `user_preferences`.
- [ ] Add progress + skeleton loaders to billing dashboards (`payment_intent`, `invoice`).
- [ ] Provide typeahead timezone selector + localization preview on `user_preferences` form.

## Phase 3 · Accessibility
- [ ] Add text equivalents + `aria-live` announcements for SLA breaches, failed payments, and login rate limits.
- [ ] Introduce column header scopes + `aria-sort` on all data tables (support, billing, analytics, leads).
- [ ] Ensure cards/tabs announce selected state (e.g., admin analytics tabs).
- [ ] Add `Skip to main content` + region landmarks to admin + client layouts.

## Phase 4 · Performance & Realtime
- [ ] Subscribe to Supabase Realtime for `support_ticket` + `ticket_reply` to push new messages without refresh.
- [ ] Implement optimistic updates for ticket replies + notification read states.
- [ ] Backfill `site_analytics` nightly via `rollup_site_analytics` cron (pg_cron) and show sync status in UI.
- [ ] Add `vw_table_stats.dead_row_percent` warnings to database monitor with `DataRetentionBanner` styling.

## Phase 5 · Documentation & Monitoring
- [ ] Document new generated components in Storybook-lite mdx or README (usage, props, data contracts).
- [ ] Add UX journey maps (admin onboarding, support escalation, billing recovery) to `docs/ui-database-bridge`.
- [ ] Configure alerting (PagerDuty/Sentry) for RPC failures like `calculate_mrr_growth` and `check_sla_status`.
